define(["require","exports","module"],function(e,t){"use strict";function n(e,t){var n="/space-left/";i(n,e,t)}function r(e,t,n){var r="/file/"+e+"/";i(r,t,n)}function i(e,t,n){$.ajax({type:"GET",async:!0,url:e,contentType:"application/x-www-form-urlencoded;charset=utf-8",success:function(e){typeof e=="string"&&(e=JSON.parse(e)),t(e)},error:function(e){n(e)}})}function s(e,t,n,r){var i=new XMLHttpRequest;i.open("POST","/upload-file/",!0),i.onload=function(e){console.log(e)},i.onprogress=r,i.onreadystatechange=function(){i.readyState==4&&(i.status==200?t(i.responseText):n&&n(i.status))};var s=new FormData;s.append("upfile",e),i.send(s)}function o(e,t,n,r){$.ajax({type:"POST",async:!0,url:e,data:JSON.stringify(t),contentType:"application/json;charset=utf-8",success:function(e){typeof e=="string"&&(e=JSON.parse(e)),n(e)},error:function(e){console.error("操作文件列表失败"),r(e)}})}function u(e,t,n,r,i){var s=null;window.XMLHttpRequest?s=new XMLHttpRequest:s=new ActiveXObject("Microsoft.XMLHTTP"),s.open("POST",e,!0),s.setRequestHeader("Content-type","application/json;charset=utf-8"),s.responseType="arraybuffer",s.send(JSON.stringify(t)),s.onprogress=i,s.onreadystatechange=function(){s.readyState==4&&(s.status==200?n(s):r&&r(s.status))}}function a(e,t,n,r){u("/model/",e,function(e){t(e.response)},function(e){n(e)},function(e){r(e)})}t.queryFile=r,t.querySpace=n,t.uploadFile=s,t.operateFiles=o,t.previewFile=a});