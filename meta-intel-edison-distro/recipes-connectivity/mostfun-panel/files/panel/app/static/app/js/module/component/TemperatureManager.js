define(["require","thirdLib/chart","lib/DateTimeUtil"],function(e){"use strict";function i(e){this._chart=null,this._bedTemperature=0,this._bedTargetTemperature=0,this._extruderTemperature=0,this._extruderTargetTemperature=0,this._init(e)}var t=e("thirdLib/chart"),n=e("lib/DateTimeUtil"),r=0;return i.prototype.BedTargetTemperatureColor="rgba(151,87,205,1)",i.prototype.BedTemperatureColor="rgba(151,187,25,1)",i.prototype.ExtruderTargetTemperatureColor="rgba(111,180,185,1)",i.prototype.ExtruderTemperatureColor="rgba(151,7,5,1)",i.prototype._init=function(e){var n={labels:["hh/mm/ss"],datasets:[this._initNewLine({name:"bedTargetTemperature",strokeColor:this.BedTargetTemperatureColor,pointColor:this.BedTargetTemperatureColor}),this._initNewLine({label:"bedTemperature",strokeColor:this.BedTemperatureColor,pointColor:this.BedTemperatureColor}),this._initNewLine({label:"extruderTargetTemperature",strokeColor:this.ExtruderTargetTemperatureColor,pointColor:this.ExtruderTargetTemperatureColor}),this._initNewLine({label:"extruderTemperature",strokeColor:this.ExtruderTemperatureColor,pointColor:this.ExtruderTemperatureColor})]};this._chart=(new t(e)).Line(n,{scaleShowVerticalLines:!1})},i.prototype.repaintSize=function(){this._chart.resize(this._chart.render,!0)},i.prototype._initNewLine=function(e){return{label:e.name,fillColor:"rgba(0,0,0,0)",strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:[0]}},i.prototype.addData=function(e){++r,this._chart.addData([e.bedSettingTemperature,e.bedTemperature,e.e0SettingTemperature,e.e0Temperature],e.time),20<r&&this.removeData(),this.update()},i.prototype.repaintData=function(e){++r;var t=n.formatDateToTime(e);this._chart.addData([this._bedTargetTemperature,this._bedTemperature,this._extruderTargetTemperature,this._extruderTemperature],t),20<r&&this.removeData(),this.update()},i.prototype.getTemperatures=function(){return{bedTemperature:this._bedTemperature,bedTargetTemperature:this._bedTargetTemperature,extruderTemperature:this._extruderTemperature,extruderTargetTemperature:this._extruderTargetTemperature}},i.prototype.updateData=function(e){var t=e;this._bedTemperature=t.bedTemp,this._bedTargetTemperature=t.bedTargetTemp,this._extruderTemperature=t.extTemp,this._extruderTargetTemperature=t.extTargetTemp},i.prototype.update=function(){this._chart.update()},i.prototype.removeData=function(){this._chart.removeData()},i});